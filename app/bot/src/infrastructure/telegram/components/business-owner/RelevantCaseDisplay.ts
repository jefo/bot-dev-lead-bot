import { z } from 'zod';

// –°—Ö–µ–º–∞ –¥–ª—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
const RelevantCaseDisplayPropsSchema = z.object({
  niche: z.string(),
  painPoint: z.string(),
});

// –ö–∞—Ä—Ç–∞ –∫–µ–π—Å–æ–≤ –ø–æ –Ω–∏—à–∞–º –∏ –±–æ–ª—è–º
const caseStudies: Record<string, Record<string, string>> = {
  infobiz: {
    sales_automation: 
      "üìà **–ö–µ–π—Å: –ò–Ω—Ñ–æ–±–∏–∑–Ω–µ—Å + –ü—Ä–æ–¥–∞–∂–∏.** –î–ª—è –æ–Ω–ª–∞–π–Ω-—à–∫–æ–ª—ã –º—ã –≤–Ω–µ–¥—Ä–∏–ª–∏ –±–æ—Ç–∞-–∫–≤–∏–∑, –∫–æ—Ç–æ—Ä—ã–π —É–≤–µ–ª–∏—á–∏–ª –∫–æ–Ω–≤–µ—Ä—Å–∏—é –≤ –∑–∞—è–≤–∫—É –Ω–∞ 30% –∏ –¥–æ—Ö–æ–¥–∏–º–æ—Å—Ç—å –Ω–∞ –≤–µ–±–∏–Ω–∞—Ä—ã –Ω–∞ 40%. –ë–æ—Ç –ø—Ä–æ–≥—Ä–µ–≤–∞–µ—Ç –∞—É–¥–∏—Ç–æ—Ä–∏—é –∏ —Å–µ–≥–º–µ–Ω—Ç–∏—Ä—É–µ—Ç –µ–µ –ø–æ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º, –ø—Ä–µ–¥–ª–∞–≥–∞—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∫—É—Ä—Å—ã.",
    support_automation:
      "üîî **–ö–µ–π—Å: –ò–Ω—Ñ–æ–±–∏–∑–Ω–µ—Å + –ü–æ–¥–¥–µ—Ä–∂–∫–∞.** –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–ª–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ–± —É—Ä–æ–∫–∞—Ö –∏ –¥–µ–¥–ª–∞–π–Ω–∞—Ö –¥–ª—è –∫—Ä—É–ø–Ω–æ–π –æ–Ω–ª–∞–π–Ω-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã, —Å–Ω–∏–∑–∏–≤ –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–∞–ø–ø–æ—Ä—Ç –Ω–∞ 25% –∏ –ø–æ–≤—ã—Å–∏–≤ –¥–æ—Ö–æ–¥–∏–º–æ—Å—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–æ–≤.",
    community:
      "üí¨ **–ö–µ–π—Å: –ò–Ω—Ñ–æ–±–∏–∑–Ω–µ—Å + –ö–æ–º—å—é–Ω–∏—Ç–∏.** –°–æ–∑–¥–∞–ª–∏ –±–æ—Ç–∞ –¥–ª—è –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–∏–º —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º, —á—Ç–æ –ø–æ–≤—ã—Å–∏–ª–æ –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å –Ω–∞ 60% –∏ —Å–Ω–∏–∑–∏–ª–æ –æ—Ç—Ç–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤.",
  },
  ecommerce: {
    sales_automation:
      "‚úÖ **–ö–µ–π—Å: E-commerce + –ü—Ä–æ–¥–∞–∂–∏.** –î–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ –æ–¥–µ–∂–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–ª–∏ –±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–∫–∞–∑—ã, –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∞–ø—Å–µ–π–ª—ã –∏ –∫—Ä–æ—Å—Å-—Å–µ–π–ª—ã, —É–≤–µ–ª–∏—á–∏–≤ —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫ –Ω–∞ 15%.",
    support_automation:
      "üó£Ô∏è **–ö–µ–π—Å: E-commerce + –ü–æ–¥–¥–µ—Ä–∂–∫–∞.** –í–Ω–µ–¥—Ä–∏–ª–∏ –±–æ—Ç–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ —á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ –¥–æ—Å—Ç–∞–≤–∫–µ, —Å—Ç–∞—Ç—É—Å–µ –∑–∞–∫–∞–∑–∞ –∏ –Ω–∞–ª–∏—á–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤, —Å–æ–∫—Ä–∞—Ç–∏–≤ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –¥–æ 5 —Å–µ–∫—É–Ω–¥.",
    leadgen:
      "üì¢ **–ö–µ–π—Å: E-commerce + –õ–∏–¥–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è.** –ë–æ—Ç –¥–ª—è —Å–±–æ—Ä–∞ –æ—Ç–∑—ã–≤–æ–≤ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥ —É–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –æ—Ç–∑—ã–≤–æ–≤ –Ω–∞ 50% –∏ –ø—Ä–∏–≤–ª–µ—á—å –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É.",
  },
  // TODO: –î–æ–±–∞–≤–∏—Ç—å –∫–µ–π—Å—ã –¥–ª—è –¥—Ä—É–≥–∏—Ö –Ω–∏—à –∏ –±–æ–ª–µ–π
};

/**
 * –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–≥–æ –∫–µ–π—Å–∞.
 * –í—ã–±–∏—Ä–∞–µ—Ç –∫–µ–π—Å –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∏—à–∏ –∏ –±–æ–ª–∏ –∫–ª–∏–µ–Ω—Ç–∞.
 */
export function RelevantCaseDisplay(props: z.infer<typeof RelevantCaseDisplayPropsSchema>): { text: string; parse_mode: string } {
  const validatedProps = RelevantCaseDisplayPropsSchema.parse(props);

  const caseText = caseStudies[validatedProps.niche]?.[validatedProps.painPoint] || 
                   "–ú—ã –º–æ–∂–µ–º –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –≤–∞—à–µ–π –∑–∞–¥–∞—á–∏. –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –Ω–µ–π –ø–æ–¥—Ä–æ–±–Ω–µ–µ!";

  return { text: caseText, parse_mode: 'Markdown' };
}
